<div class="container">
  <div class="submit-form form-container">
    <h3>Add User Form</h3>
    <form [formGroup]="userForm" (ngSubmit)="addUser()">

    <div class="form-group">
      <label for="firstname">First Name</label>
      <input type="text" class="form-control" id="firstname" formControlName="firstname" />
      <div *ngIf="userForm!.get('firstname')?.invalid && (userForm!.get('firstname')?.dirty || userForm!.get('firstname')?.touched)" class="alert alert-danger">
        <div *ngIf="userForm!.get('firstname')?.errors?.['required']">
        First Name is required.</div>
        <div *ngIf="userForm!.get('firstname')?.errors?.['pattern']">
        Your name cannot have numbers.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="lastname">Last Name</label>
      <input type="text" class="form-control" id="lname" formControlName="lastname" />
      <div *ngIf="userForm!.get('lastname')?.invalid && (userForm!.get('lastname')?.dirty || userForm!.get('lastname')?.touched)" class="alert alert-danger">
        <div *ngIf="userForm!.get('lastname')?.errors?.['required']">
        Last Name is required.</div>
        <div *ngIf="userForm!.get('lastname')?.errors?.['pattern']">
        Your name cannot have numbers.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" formControlName="email"/>
        <div *ngIf="userForm!.get('email')?.invalid && (userForm!.get('email')?.dirty || userForm!.get('email')?.touched)" class="alert alert-danger">
          <div *ngIf="userForm!.get('email')?.errors?.['required']">
          Email is required.</div>
          <div *ngIf="userForm!.get('email')?.errors?.['email'] || userForm!.get('email')?.errors?.['pattern']">
          Your email must be a valid email address.</div>
        </div>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="!userForm.valid">Submit</button>
 </form>
  <div *ngIf="submitted">
    <h4>User has been submitted!</h4>
    <button class="btn btn-reset" (click)="resetForm()">Reset</button>
  </div>
</div>

<div class="list list-container">
  <h3>Registered User List</h3>
  <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; let i = index">
          <td>{{ user.firstname }}</td>
          <td>{{ user.lastname }}</td>
          <td>{{ user.email }}</td>
        </tr>
      </tbody>
    </table>
    <button class="m-3 btn btn-sm btn-danger" (click)="removeAllUsers()">
      Remove All
    </button>
  </div>
</div>

